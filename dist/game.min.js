!function(){let t,i,s={};function h(t,...i){(s[t]||[]).map(t=>t(...i))}function e(){return i}function n(t,i,s){return Math.min(Math.max(t,s),i)}class r{constructor(t=0,i=0,s={}){this.x=t,this.y=i,s.t&&(this.i(s.s,s.h,s.u,s.o),this.x=t,this.y=i)}add(t){return new r(this.x+t.x,this.y+t.y,this)}l(t){return new r(this.x-t.x,this.y-t.y,this)}scale(t){return new r(this.x*t,this.y*t)}normalize(t=this.length()){return new r(this.x/t,this.y/t)}g(t){return this.x*t.x+this.y*t.y}length(){return Math.hypot(this.x,this.y)}p(t){return Math.hypot(this.x-t.x,this.y-t.y)}angle(t){return Math.acos(this.g(t)/(this.length()*t.length()))}i(t,i,s,h){this.t=!0,this.s=t,this.h=i,this.u=s,this.o=h}get x(){return this.m}get y(){return this._}set x(t){this.m=this.t?n(this.s,this.u,t):t}set y(t){this._=this.t?n(this.h,this.o,t):t}}function a(){return new r(...arguments)}a.prototype=r.prototype,a.v=r;const u=()=>{};class c extends class{constructor(t){return this.init(t)}init(t={}){this.position=a(),this.M=a(),this.acceleration=a(),this.A=1/0,Object.assign(this,t)}update(t){this.advance(t)}advance(t){let i=this.acceleration;t&&(i=i.scale(t)),this.M=this.M.add(i);let s=this.M;t&&(s=s.scale(t)),this.position=this.position.add(s),this.X(),this.A--}get dx(){return this.M.x}get dy(){return this.M.y}set dx(t){this.M.x=t}set dy(t){this.M.y=t}get Y(){return this.acceleration.x}get H(){return this.acceleration.y}set Y(t){this.acceleration.x=t}set H(t){this.acceleration.y=t}C(){return this.A>0}X(){}}{init({width:t=0,height:i=0,context:s=e(),F:h=this.k,update:n=this.advance,children:r=[],anchor:a={x:0,y:0},q:u=0,S:c=0,opacity:o=1,rotation:l=0,j:d=1,O:g=1,...x}={}){this.children=[],super.init({width:t,height:i,context:s,anchor:a,q:u,S:c,opacity:o,rotation:l,j:d,O:g,...x}),this.B=!0,this.D(),r.map(t=>this.G(t)),this.I=h,this.J=n}update(t){this.J(t),this.children.map(t=>t.update&&t.update())}F(t){let i=this.context;i.save(),(this.x||this.y)&&i.translate(this.x,this.y),this.rotation&&i.rotate(this.rotation),(this.q||this.S)&&i.translate(-this.q,-this.S),1==this.j&&1==this.O||i.scale(this.j,this.O);let s=-this.width*this.anchor.x,h=-this.height*this.anchor.y;(s||h)&&i.translate(s,h),this.context.globalAlpha=this.opacity,this.I(),(s||h)&&i.translate(-s,-h);let e=this.children;t&&(e=e.filter(t)),e.map(t=>t.F&&t.F()),i.restore()}k(){}X(t,i){this.D(),this.children.map(t=>t.X())}get x(){return this.position.x}get y(){return this.position.y}set x(t){this.position.x=t,this.X()}set y(t){this.position.y=t,this.X()}get width(){return this.K}set width(t){this.K=t,this.X()}get height(){return this.L}set height(t){this.L=t,this.X()}D(){if(!this.B)return;let{N:t=0,P:i=0,R:s=1,T:h=0,U:e=1,V:n=1}=this.parent||{};this.N=this.x,this.P=this.y,this.W=this.width,this.Z=this.height,this.R=s*this.opacity,this.T=h+this.rotation;let{x:r,y:a}=function(t,i){let s=Math.sin(i),h=Math.cos(i);return{x:t.x*h-t.y*s,y:t.x*s+t.y*h}}({x:this.x,y:this.y},h);this.N=r,this.P=a,this.U=e*this.j,this.V=n*this.O,this.N=this.x*e,this.P=this.y*n,this.W=this.width*this.U,this.Z=this.height*this.V,this.N+=t,this.P+=i}get $(){return{x:this.N,y:this.P,width:this.W,height:this.Z,opacity:this.R,rotation:this.T,j:this.U,O:this.V}}G(t,{absolute:i=!1}={}){this.children.push(t),t.parent=this,t.X=t.X||u,t.X()}removeChild(t){let i=this.children.indexOf(t);-1!==i&&(this.children.splice(i,1),t.parent=null,t.X())}get opacity(){return this.tt}set opacity(t){this.tt=t,this.X()}get rotation(){return this.it}set rotation(t){this.it=t,this.X()}setScale(t,i=t){this.j=t,this.O=i}get j(){return this.st}set j(t){this.st=t,this.X()}get O(){return this.ht}set O(t){this.ht=t,this.X()}}function o(){return new c(...arguments)}o.prototype=c.prototype,o.v=c;let l=/(\d+)(\w+)/;class d extends o.v{init({text:t="",textAlign:i="",lineHeight:s=1,font:h=e().font,...n}={}){super.init({text:t,textAlign:i,lineHeight:s,font:h,...n}),this.et()}get width(){return this.K}set width(t){this.u=!0,this.K=t,this.nt=t}get text(){return this.rt}set text(t){this.u=!0,this.rt=t}get font(){return this.at}set font(t){this.u=!0,this.at=t,this.ut=function(t){let i=t.match(l),s=+i[1];return{size:s,ot:i[2],ct:s}}(t).ct}get lineHeight(){return this.lt}set lineHeight(t){this.u=!0,this.lt=t}F(){this.u&&this.et(),super.F()}et(){this.dt=[],this.u=!1;let t=this.context;if(t.font=this.font,!this.dt.length&&this.nt){let i=this.text.split(" "),s=0,h=2;for(;h<=i.length;h++){let e=i.slice(s,h).join(" ");t.measureText(e).width>this.nt&&(this.dt.push(i.slice(s,h-1).join(" ")),s=h-1)}this.dt.push(i.slice(s,h).join(" "))}if(!this.dt.length&&this.text.includes("\n")){let i=0;this.text.split("\n").map(s=>{this.dt.push(s),i=Math.max(i,t.measureText(s).width)}),this.K=this.nt||i}this.dt.length||(this.dt.push(this.text),this.K=this.nt||t.measureText(this.text).width),this.height=this.ut+(this.dt.length-1)*this.ut*this.lineHeight,this.D()}k(){let t=0,i=this.textAlign,s=this.context;i=this.textAlign||("rtl"===s.canvas.dir?"right":"left"),t="right"===i?this.width:"center"===i?this.width/2|0:0,this.dt.map((h,e)=>{s.textBaseline="top",s.textAlign=i,s.fillStyle=this.color,s.font=this.font,s.fillText(h,t,this.ut*this.lineHeight*e)})}}function g(){return new d(...arguments)}function x(t){let i=t.canvas;t.clearRect(0,0,i.width,i.height)}g.prototype=d.prototype,g.v=d;let{canvas:f}=(t=document.getElementById(void 0)||document.querySelector("canvas"),i=t.getContext("2d"),i.gt=!1,h("init"),{canvas:t,context:i});const p=[];let w=0;(function({xt:t=60,ft:i=!0,update:s=u,F:n,context:r=e()}={}){let a,c,o,l,d,g=0,f=1e3/t,p=1/t,w=i?x:u;function y(){if(c=requestAnimationFrame(y),o=performance.now(),l=o-a,a=o,!(l>1e3)){for(h("tick"),g+=l;g>=f;)d.update(p),g-=f;w(r),d.F()}}return d={update:s,F:n,pt:!0,start(){a=performance.now(),this.pt=!1,requestAnimationFrame(y)},stop(){this.pt=!0,cancelAnimationFrame(c)}},d})({update:function(){var t;w++,w%60==0&&(t="test"+w,p.length>4&&p.shift(),p.push(g({text:t,font:"20px Arial",color:"black",x:10,y:20,opacity:1})),p.forEach(t=>{t.y+=20}))},F:function(){p.forEach(t=>t.F())}}).start()}();
//# sourceMappingURL=game.min.js.map